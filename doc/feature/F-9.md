# F-9: IN and NOT IN Expressions

## Overview
The IN and NOT IN expressions allow you to test whether a column value matches any value in a specified list of values. This is a convenient way to check multiple possible values without using multiple OR conditions.

## Syntax

### IN Expression
```sql
column IN (value1, value2, value3, ...)
```

### NOT IN Expression
```sql
column NOT IN (value1, value2, value3, ...)
```

## Parameters
- `column`: The column name to test
- `value1, value2, ...`: A comma-separated list of values to match against

## Examples

### Basic IN Usage
```sql
-- Find rows where category is 'A', 'B', or 'C'
SELECT * FROM Sheet1 WHERE category IN ('A', 'B', 'C')

-- Find rows where age is 25, 30, or 35
SELECT * FROM Sheet1 WHERE age IN (25, 30, 35)

-- Find rows where status is 'active' or 'pending'
SELECT name, status FROM Sheet1 WHERE status IN ('active', 'pending')
```

### Basic NOT IN Usage
```sql
-- Find rows where category is not 'A', 'B', or 'C'
SELECT * FROM Sheet1 WHERE category NOT IN ('A', 'B', 'C')

-- Find rows where age is not 25, 30, or 35
SELECT * FROM Sheet1 WHERE age NOT IN (25, 30, 35)

-- Find rows where status is not 'inactive' or 'deleted'
SELECT name, status FROM Sheet1 WHERE status NOT IN ('inactive', 'deleted')
```

### Combined with Other Conditions
```sql
-- Combine IN with AND condition
SELECT * FROM Sheet1 WHERE category IN ('A', 'B') AND age > 20

-- Combine NOT IN with OR condition
SELECT * FROM Sheet1 WHERE category NOT IN ('X', 'Y') OR status = 'priority'

-- Use with table aliases
SELECT s.name, s.category FROM Sheet1 s WHERE s.category IN ('premium', 'gold')
```

## Implementation Details

### AST Structure
The IN and NOT IN expressions are parsed as binary expressions with:
- `operator`: 'IN' or 'NOT IN'
- `left`: The column reference
- `right`: An expression list containing the values

### Value Matching
- Uses JavaScript's `includes()` method for value matching
- Supports mixed data types (strings, numbers, booleans)
- Case-sensitive string matching
- Null values are handled appropriately

### Performance Considerations
- IN expressions are more efficient than multiple OR conditions
- Values are evaluated once per row
- List size should be reasonable for optimal performance

## Error Handling
- Throws error if the right side is not a proper expression list
- Handles null and undefined values gracefully
- Provides clear error messages for malformed syntax

## Limitations
- Values in the list must be literals or expressions that can be evaluated
- Subqueries in IN clauses are not supported
- Maximum recommended list size is 100 values for performance

## Test Cases
Corresponding test cases can be found in: `test/test-case/tc-f-9.js`

## Related Features
- F-2: WHERE Clause (basic conditions)
- F-3: Table Aliases (can be used with IN expressions)
- F-4: JOIN Operations (IN can be used in JOIN conditions)